<!DOCTYPE html>
<html lang="es">

<head>

<meta charset="UTF-8">
<title>Admin</title>

<style>

body{
font-family:Arial;
background:#1f2937;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.panel{
background:#111827;
padding:30px;
border-radius:10px;
width:350px;
}

input{
width:100%;
padding:10px;
margin:8px 0;
border:none;
border-radius:6px;
}

button{
background:#22c55e;
border:none;
padding:10px;
border-radius:6px;
width:100%;
cursor:pointer;
}

.producto{
background:#374151;
margin-top:10px;
padding:10px;
border-radius:6px;
}

</style>

</head>


<body>

<div id="login" class="panel">

<h2>Admin</h2>

<input id="user" placeholder="usuario">

<input id="pass" type="password" placeholder="contraseÃ±a">

<button onclick="login()">Entrar</button>

</div>


<div id="admin" class="panel" style="display:none">

<h2>Panel Luma Mate</h2>

<input id="nombre" placeholder="Nombre">

<input id="precio" placeholder="Precio">

<input id="stock" placeholder="Stock">

<input type="file" id="imagen">

<button onclick="agregar()">Agregar producto</button>

<div id="lista"></div>

</div>


<script>

let productos = JSON.parse(localStorage.getItem("productos")) || []


function login(){

let u=document.getElementById("user").value
let p=document.getElementById("pass").value

if(u=="admin" && p=="1234"){

document.getElementById("login").style.display="none"

document.getElementById("admin").style.display="block"

render()

}else{

alert("incorrecto")

}

}


function agregar(){

let nombre=document.getElementById("nombre").value
let precio=document.getElementById("precio").value
let stock=document.getElementById("stock").value
let file=document.getElementById("imagen").files[0]

let reader=new FileReader()

reader.onload=function(e){

productos.push({

nombre,

precio,

stock,

img:e.target.result

})

localStorage.setItem("productos",JSON.stringify(productos))

render()

}

reader.readAsDataURL(file)

}


function eliminar(i){

productos.splice(i,1)

localStorage.setItem("productos",JSON.stringify(productos))

render()

}


function render(){

let html=""

productos.forEach((p,i)=>{

html+=`

<div class="producto">

<img src="${p.img}" width="60">

<br>

${p.nombre}

<br>

$${p.precio}

<br>

stock ${p.stock}

<br>

<button onclick="eliminar(${i})">Eliminar</button>

</div>

`

})

document.getElementById("lista").innerHTML=html

}

</script>

</body>
</html>
